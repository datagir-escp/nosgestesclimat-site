!function(t){var e={};function s(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,s),i.l=!0,i.exports}s.m=t,s.c=e,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){"use strict";s.r(e);const n=t=>Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t),i=t=>"string"==typeof t,r=t=>"number"==typeof t,c=t=>null!=t;var h={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score-e.score,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,...{useExtendedSearch:!1,getFn:function(t,e){let s=[],h=!1;const o=(t,e)=>{if(e){const a=e.indexOf(".");let l=e,u=null;-1!==a&&(l=e.slice(0,a),u=e.slice(a+1));const d=t[l];if(c(d))if(u||!i(d)&&!r(d))if(n(d)){h=!0;for(let t=0,e=d.length;t<e;t+=1)o(d[t],u)}else u&&o(d,u);else s.push((t=>null==t?"":(t=>{if("string"==typeof t)return t;let e=t+"";return"0"==e&&1/t==-1/0?"-0":e})(t))(d))}else s.push(t)};return o(t,e),h?s:s[0]}}};function o(t,{errors:e=0,currentLocation:s=0,expectedLocation:n=0,distance:i=h.distance}={}){const r=e/t.length,c=Math.abs(n-s);return i?r+c/i:c?1:r}function a(t,e,s,{location:n=h.location,distance:i=h.distance,threshold:r=h.threshold,findAllMatches:c=h.findAllMatches,minMatchCharLength:a=h.minMatchCharLength,includeMatches:l=h.includeMatches}={}){if(e.length>32)throw new Error("Pattern length exceeds max of 32.");const u=e.length,d=t.length,g=Math.max(0,Math.min(n,d));let f=r,p=g;const m=[];if(l)for(let t=0;t<d;t+=1)m[t]=0;let M;for(;(M=t.indexOf(e,p))>-1;){let t=o(e,{currentLocation:M,expectedLocation:g,distance:i});if(f=Math.min(t,f),p=M+u,l){let t=0;for(;t<u;)m[M+t]=1,t+=1}}p=-1;let y=[],x=1,S=u+d;const _=1<<(u<=31?u-1:30);for(let n=0;n<u;n+=1){let r=0,h=S;for(;r<h;){o(e,{errors:n,currentLocation:g+h,expectedLocation:g,distance:i})<=f?r=h:S=h,h=Math.floor((S-r)/2+r)}S=h;let a=Math.max(1,g-h+1),M=c?d:Math.min(g+h,d)+u,k=Array(M+2);k[M+1]=(1<<n)-1;for(let r=M;r>=a;r-=1){let c=r-1,h=s[t.charAt(c)];if(h&&l&&(m[c]=1),k[r]=(k[r+1]<<1|1)&h,0!==n&&(k[r]|=(y[r+1]|y[r])<<1|1|y[r+1]),k[r]&_&&(x=o(e,{errors:n,currentLocation:c,expectedLocation:g,distance:i}),x<=f)){if(f=x,p=c,p<=g)break;a=Math.max(1,2*g-p)}}if(o(e,{errors:n+1,currentLocation:g,expectedLocation:g,distance:i})>f)break;y=k}let k={isMatch:p>=0,score:x||.001};return l&&(k.matchedIndices=function(t=[],e=h.minMatchCharLength){let s=[],n=-1,i=-1,r=0;for(let c=t.length;r<c;r+=1){let c=t[r];c&&-1===n?n=r:c||-1===n||(i=r-1,i-n+1>=e&&s.push([n,i]),n=-1)}return t[r-1]&&r-n>=e&&s.push([n,r-1]),s}(m,a)),k}function l(t){let e={},s=t.length;for(let n=0;n<s;n+=1)e[t.charAt(n)]=0;for(let n=0;n<s;n+=1)e[t.charAt(n)]|=1<<s-n-1;return e}class u{constructor(t,{location:e=h.location,threshold:s=h.threshold,distance:n=h.distance,includeMatches:i=h.includeMatches,findAllMatches:r=h.findAllMatches,minMatchCharLength:c=h.minMatchCharLength,isCaseSensitive:o=h.isCaseSensitive}={}){this.options={location:e,threshold:s,distance:n,includeMatches:i,findAllMatches:r,minMatchCharLength:c,isCaseSensitive:o},this.pattern=o?t:t.toLowerCase(),this.chunks=[];let a=0;for(;a<this.pattern.length;){let t=this.pattern.substring(a,a+32);this.chunks.push({pattern:t,alphabet:l(t)}),a+=32}}searchIn(t){let e=t.$;return this.searchInString(e)}searchInString(t){const{isCaseSensitive:e,includeMatches:s}=this.options;if(e||(t=t.toLowerCase()),this.pattern===t){let e={isMatch:!0,score:0};return s&&(e.matchedIndices=[[0,t.length-1]]),e}const{location:n,distance:i,threshold:r,findAllMatches:c,minMatchCharLength:h}=this.options;let o=[],l=0,u=!1;for(let e=0,d=this.chunks.length;e<d;e+=1){let{pattern:d,alphabet:g}=this.chunks[e],f=a(t,d,g,{location:n+32*e,distance:i,threshold:r,findAllMatches:c,minMatchCharLength:h,includeMatches:s});const{isMatch:p,score:m,matchedIndices:M}=f;p&&(u=!0),l+=m,p&&M&&(o=[...o,...M])}let d={isMatch:u,score:u?l/this.chunks.length:1};return u&&s&&(d.matchedIndices=o),d}}class d{constructor(t){this.pattern=t}static isMultiMatch(t){return g(t,this.multiRegex)}static isSingleMatch(t){return g(t,this.singleRegex)}search(){}}function g(t,e){const s=t.match(e);return s?s[1]:null}class f extends d{constructor(t){super(t)}static get type(){return"exact"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(t){let e,s=0;const n=[],i=this.pattern.length;for(;(e=t.indexOf(this.pattern,s))>-1;)s=e+i,n.push([e,s-1]);const r=!!n.length;return{isMatch:r,score:r?1:0,matchedIndices:n}}}class p extends d{constructor(t,{location:e=h.location,threshold:s=h.threshold,distance:n=h.distance,includeMatches:i=h.includeMatches,findAllMatches:r=h.findAllMatches,minMatchCharLength:c=h.minMatchCharLength,isCaseSensitive:o=h.isCaseSensitive}={}){super(t),this._bitapSearch=new u(t,{location:e,threshold:s,distance:n,includeMatches:i,findAllMatches:r,minMatchCharLength:c,isCaseSensitive:o})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(t){return this._bitapSearch.searchInString(t)}}const m=[f,class extends d{constructor(t){super(t)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(t){const e=t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,matchedIndices:[0,this.pattern.length-1]}}},class extends d{constructor(t){super(t)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(t){const e=!t.startsWith(this.pattern);return{isMatch:e,score:e?0:1,matchedIndices:[0,t.length-1]}}},class extends d{constructor(t){super(t)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(t){const e=!t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,matchedIndices:[0,t.length-1]}}},class extends d{constructor(t){super(t)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(t){const e=t.endsWith(this.pattern);return{isMatch:e,score:e?0:1,matchedIndices:[t.length-this.pattern.length,t.length-1]}}},class extends d{constructor(t){super(t)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(t){const e=-1===t.indexOf(this.pattern);return{isMatch:e,score:e?0:1,matchedIndices:[0,t.length-1]}}},p],M=m.length,y=/ +(?=([^\"]*\"[^\"]*\")*[^\"]*$)/;const x=new Set([p.type,f.type]);const S=/[^ ]+/g;function _(t,e,{getFn:s=h.getFn}={}){let r=[];if(i(e[0]))for(let t=0,s=e.length;t<s;t+=1){const s=e[t];if(c(s)){let e={$:s,idx:t,t:s.match(S).length};r.push(e)}}else{const h=t.length;for(let o=0,a=e.length;o<a;o+=1){let a=e[o],l={idx:o,$:{}};for(let e=0;e<h;e+=1){let r=t[e],h=s(a,r);if(c(h))if(n(h)){let t=[];const e=[{arrayIndex:-1,value:h}];for(;e.length;){const{arrayIndex:s,value:r}=e.pop();if(c(r))if(i(r)){let e={$:r,idx:s,t:r.match(S).length};t.push(e)}else if(n(r))for(let t=0,s=r.length;t<s;t+=1)e.push({arrayIndex:t,value:r[t]})}l.$[r]=t}else{let t={$:h,t:h.match(S).length};l.$[r]=t}}r.push(l)}}return r}class k{constructor(t){if(this._keys={},this._keyNames=[],this._length=t.length,t.length&&i(t[0]))for(let e=0;e<this._length;e+=1){const s=t[e];this._keys[s]={weight:1},this._keyNames.push(s)}else{let e=0;for(let s=0;s<this._length;s+=1){const n=t[s];if(!Object.prototype.hasOwnProperty.call(n,"name"))throw new Error('Missing "name" property in key object');const i=n.name;if(this._keyNames.push(i),!Object.prototype.hasOwnProperty.call(n,"weight"))throw new Error('Missing "weight" property in key object');const r=n.weight;if(r<=0||r>=1)throw new Error('"weight" property in key must be in the range of (0, 1)');this._keys[i]={weight:r},e+=r}for(let t=0;t<this._length;t+=1){const s=this._keyNames[t],n=this._keys[s].weight;this._keys[s].weight=n/e}}}get(t,e){return this._keys[t]?this._keys[t][e]:-1}keys(){return this._keyNames}count(){return this._length}toJSON(){return JSON.stringify(this._keys)}}function I(t,e){const s=t.matches;if(e.matches=[],c(s))for(let t=0,n=s.length;t<n;t+=1){let n=s[t];if(!c(n.indices)||0===n.indices.length)continue;let i={indices:n.indices,value:n.value};n.key&&(i.key=n.key),n.idx>-1&&(i.refIndex=n.idx),e.matches.push(i)}}function v(t,e){e.score=t.score}const w=[];class C{constructor(t,e={},s=null){this.options={...h,...e},this._processKeys(this.options.keys),this.setCollection(t,s)}setCollection(t,e=null){this.list=t,this.listIsStringArray=i(t[0]),e?this.setIndex(e):this.setIndex(this._createIndex())}setIndex(t){this._indexedList=t}_processKeys(t){this._keyStore=new k(t)}_createIndex(){return _(this._keyStore.keys(),this.list,{getFn:this.options.getFn})}search(t,e={limit:!1}){if(!(t=t.trim()).length)return[];const{shouldSort:s}=this.options;let n=null;for(let e=0,s=w.length;e<s;e+=1){let s=w[e];if(s.condition(t,this.options)){n=new s(t,this.options);break}}n||(n=new u(t,this.options));let i=this._searchUsing(n);return this._computeScore(i),s&&this._sort(i),e.limit&&r(e.limit)&&(i=i.slice(0,e.limit)),this._format(i)}_searchUsing(t){const e=this._indexedList,s=[],{includeMatches:i}=this.options;if(this.listIsStringArray)for(let n=0,r=e.length;n<r;n+=1){let r=e[n],{$:h,idx:o,t:a}=r;if(!c(h))continue;let l=t.searchIn(r);const{isMatch:u,score:d}=l;if(!u)continue;let g={score:d,value:h,t:a};i&&(g.indices=l.matchedIndices),s.push({item:h,idx:o,matches:[g]})}else{const r=this._keyStore.keys(),h=this._keyStore.count();for(let o=0,a=e.length;o<a;o+=1){let{$:a,idx:l}=e[o];if(!c(a))continue;let u=[];for(let e=0;e<h;e+=1){let s=r[e],h=a[s];if(c(h))if(n(h))for(let e=0,n=h.length;e<n;e+=1){let n=h[e];const{$:r,idx:o,t:a}=n;if(!c(r))continue;let l=t.searchIn(n);const{isMatch:d,score:g}=l;if(!d)continue;let f={score:g,key:s,value:r,idx:o,t:a};i&&(f.indices=l.matchedIndices),u.push(f)}else{const{$:e,t:n}=h;let r=t.searchIn(h);const{isMatch:c,score:o}=r;if(!c)continue;let a={score:o,key:s,value:e,t:n};i&&(a.indices=r.matchedIndices),u.push(a)}}u.length&&s.push({idx:l,item:a,matches:u})}}return s}_computeScore(t){const e=t.length;for(let s=0;s<e;s+=1){const e=t[s],n=e.matches,i=n.length;let r=1;for(let t=0;t<i;t+=1){const e=n[t],{key:s,t:i}=e,c=this._keyStore.get(s,"weight"),h=c>-1?c:1,o=0===e.score&&c>-1?Number.EPSILON:e.score,a=1/Math.sqrt(i);r*=Math.pow(o,h*a)}e.score=r}}_sort(t){t.sort(this.options.sortFn)}_format(t){const e=[],{includeMatches:s,includeScore:n}=this.options;let i=[];s&&i.push(I),n&&i.push(v);for(let s=0,n=t.length;s<n;s+=1){const n=t[s],{idx:r}=n,c={item:this.list[r],refIndex:r};if(i.length)for(let t=0,e=i.length;t<e;t+=1)i[t](n,c);e.push(c)}return e}}!function(...t){w.push(...t)}(class{constructor(t,{isCaseSensitive:e=h.isCaseSensitive,includeMatches:s=h.includeMatches,minMatchCharLength:n=h.minMatchCharLength,findAllMatches:i=h.findAllMatches,location:r=h.location,threshold:c=h.threshold,distance:o=h.distance}={}){this.query=null,this.options={isCaseSensitive:e,includeMatches:s,minMatchCharLength:n,findAllMatches:i,location:r,threshold:c,distance:o},this.pattern=e?t:t.toLowerCase(),this.query=function(t,e={}){return t.split("|").map(t=>{let s=t.trim().split(y).filter(t=>t&&!!t.trim()),n=[];for(let t=0,i=s.length;t<i;t+=1){const i=s[t];let r=!1,c=-1;for(;!r&&++c<M;){const t=m[c];let s=t.isMultiMatch(i);s&&(n.push(new t(s,e)),r=!0)}if(!r)for(c=-1;++c<M;){const t=m[c];let s=t.isSingleMatch(i);if(s){n.push(new t(s,e));break}}}return n})}(this.pattern,this.options)}static condition(t,e){return e.useExtendedSearch}searchIn(t){const e=this.query;if(!e)return{isMatch:!1,score:1};let s=t.$;const{includeMatches:n,isCaseSensitive:i}=this.options;s=i?s:s.toLowerCase();let r=0,c=[],h=0;for(let t=0,i=e.length;t<i;t+=1){const i=e[t];c.length=0,r=0;for(let t=0,e=i.length;t<e;t+=1){const e=i[t],{isMatch:o,matchedIndices:a,score:l}=e.search(s);if(!o){h=0,r=0,c.length=0;break}if(r+=1,h+=l,n){const t=e.constructor.type;x.has(t)?c=[...c,...a]:c.push(a)}}if(r){let t={isMatch:!0,score:h/r};return n&&(t.matchedIndices=c),t}}return{isMatch:!1,score:1}}}),C.version="5.2.1",C.createIndex=_,C.config=h;var b=C,L=[{name:"espace",weight:.6},{name:"title",weight:.4}],$=null;onmessage=function(t){if(t.data.rules&&($=new b(t.data.rules,{keys:L,includeMatches:!0,minMatchCharLength:2,useExtendedSearch:!0,distance:50,threshold:.3})),t.data.input){var e=[...$.search(t.data.input+"|"+t.data.input.replace(/ /g,"|"))];postMessage(e)}}}]);
//# sourceMappingURL=d8970aa8bd3dd6a42c93.worker.js.map